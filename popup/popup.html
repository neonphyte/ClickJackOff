<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ClickJackOff</title>
  <!-- Bootstrap CSS (CDN or local) -->
  <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Your custom CSS -->
  <link rel="stylesheet" href="/popup/styles.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  
  <!-- Optional Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet"/>
  
</head>
<body class="bg-dark text-white">
  <!-- Container with a controlled width -->
  <div class="popup-container mx-auto my-2">
    
    <!-- Header: Logo + Title -->
    <div class="d-flex align-items-center mb-2">
      <img 
        src="/images/logo.png" 
        alt="Logo" 
        class="me-2" 
        style="width: 40px; height: 40px; object-fit: contain;"
      />
      <h4 class="mb-0">ClickJackOff</h4>
    </div>
    <p class="caption-text mb-3">Browse the web with ease with clickguard</p>

    <!-- Current URL Display Card -->
    <div class="p-2 rounded mb-3" style="background-color: #343a40;">
      <strong style="font-size: 0.9rem;">Current URL:</strong><br>
      <a 
        id="current-url"
        href="#"
        class="text-decoration-none"
        style="font-size: 0.8rem; color: #24B3A8;"
        target="_blank"
      >
        Loading...
      </a>
    </div>

    <!-- Tabs (Summary | Scanned Links) -->
    <ul class="nav nav-tabs justify-content-center" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button 
          class="nav-link active" 
          id="summary-tab" 
          data-bs-toggle="tab" 
          data-bs-target="#summary" 
          type="button" 
          role="tab" 
          aria-controls="summary" 
          aria-selected="true"
        >
          Summary
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button 
          class="nav-link" 
          id="details-tab" 
          data-bs-toggle="tab" 
          data-bs-target="#details" 
          type="button" 
          role="tab" 
          aria-controls="details" 
          aria-selected="false"
        >
          Scanned Links
        </button>
      </li>
    </ul>

    <div class="tab-content" id="myTabContent">
      <!-- Summary Tab Content -->
      <div 
        class="tab-pane fade show active p-2" 
        id="summary" 
        role="tabpanel" 
        aria-labelledby="summary-tab"
      >
        <!-- Summary container; summary text and doughnut chart will be injected here -->
        <div id="summary-content">
          <!-- Initial spinner -->
          <div class="d-flex align-items-center">
            <div class="spinner me-2"></div>
            <span>Calculating summary...</span>
          </div>
        </div>
      </div>

      <!-- Scanned Links Tab Content -->
      <div 
        class="tab-pane fade p-2" 
        id="details" 
        role="tabpanel" 
        aria-labelledby="details-tab"
      >
        <!-- Dynamically populated -->
        <div id="links-container"></div>
      </div>
    </div>

  </div>

  <!-- Scripts -->
  <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="/popup/popup.js"></script>
</body>
</html>
